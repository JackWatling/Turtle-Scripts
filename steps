local height = 3

function dig()
	while turtle.detect() do
		turtle.dig()
		os.sleep(1)
	end
	turtle.forward()
	turtle.digDown()
	turtle.up()

	for i = 1, height - 1, 1 do
		turtle.up()
		turtle.digUp()
	end

	for i = 1, height + 1, 1 do
		turtle.down()
	end
end

function torch()
	for i = 1, height - 1, 1 do
		turtle.up()
	end

	turtle.select(1)
	turtle.placeUp()

	for i = 1, height + 1, 1 do
		turtle.down()
	end
end

for i = 1, 10, 1 do
	dig()
	if i % 5 == 0 then
		torch()
	end
end